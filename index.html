<html lang="en">
<head>
<link rel="stylesheet" href="./dist/jquery.jqplot.css">
<title>Sci-Fi Book to movie adaptations</title>
</head>
<body>

<div id="reviewed-graph" style="height:600px;"></div>

<div id="book-graph" style="height:600px;"></div>

<script type="text/javascript" src="./dist/jquery.js"></script>
<script type="text/javascript" src="./dist/jquery.jqplot.min.js"></script>
<script type="text/javascript" src="./dist/plugins/jqplot.dateAxisRenderer.js"></script>
<script type="text/javascript" src="./dist/plugins/jqplot.highlighter.js"></script>
<script type="text/javascript" src="./dist/plugins/jqplot.cursor.js"></script>
<script type="text/javascript" src="./dist/plugins/jqplot.canvasTextRenderer.js"></script>
<script type="text/javascript" src="./dist/plugins/jqplot.canvasAxisTickRenderer.min.js"></script>
<script type="text/javascript" src="./dist/plugins/jqplot.canvasAxisLabelRenderer.js"></script>
<script type="text/javascript" src="./dist/plugins/jqplot.categoryAxisRenderer.min.js"></script>

<script type="text/javascript">

var raw_data = [
    {
        name: 'Frankenstein',
        author: 'Mary Shelley',
        publication_year: 1816,
        episode : 32,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-33-bilateral-kidney-stones-frankenstein/',
        adaptations: [
            { year: 1931, title: 'Frankenstein' },
            { year: 1935, title: 'Bride of Frankenstein' },
            { year: 1979, title: 'Young Frankenstein' },
            { year: 1994, title: 'A Muppet Christmas Carol' },
            { year: 2004, title: 'Frankenstein' },
            { year: 2015, title: 'Victor Frankenstein' }
        ]
    },
    {
        name: 'A Christmas Carol',
        author: 'Charles Dickens',
        publication_year: 1843,
        episode : 14,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-14-double-marley-double-fun/',
        adaptations: [
            { year: 1901, title: 'Scrooge, or, Marley\'s Ghost' },
            { year: 1951, title: 'Scrooge' },
            { year: 1988, title: 'Scrooged' },
            { year: 1992, title: 'A Muppet Christmas Carol' },
            { year: 1999, title: 'A Christmas Carol' }
        ]
    },
    {
        name: 'Who Goes There?',
        author: 'John W. Campbell, Jr.',
        publication_year: 1938,
        episode : 12,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-12-speak-softly-carry-electrified-pitchfork/',
        adaptations: [
            { year: 1951, title: 'The Thing from Another World' },
            { year: 1982, title: 'The Thing' },
            { year: 2011, title: 'The Thing - Prequel' }
        ]
    },
    {
        name: 'I Robot',
        author: 'Eando Binder',
        publication_year: 1939,
        episode : 18,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-18-ifs-ands-robuts-leonard-nimoy/',
        adaptations: [
            { year: 1965, title: 'I Robot' },
            { year: 1995, title: 'I Robot' }
        ]
    },
    {
        name: 'Farewell to the Master',
        author: 'Harry Bates',
        publication_year: 1940,
        episode : 1,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-1-farewell-to-the-outline/',
        adaptations: [
            { year: 1951, title: 'The Day the Earth Stood Still' },
            { year: 2008, title: 'The Day the Earth Stood Still' }
        ]
    },
    {
        name: 'Day of the Triffids',
        author: 'John Wyndham',
        publication_year: 1951,
        episode : 10,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-10-triffids-scream-ice-cream-day-torrence/',
        adaptations: [
            { year: 1962, title: 'Day of the Triffids' },
            { year: 1980, title: 'Day of the Triffids' },
            { year: 2009, title: 'Day of the Triffids' }
        ]
    },
    {
        name: 'A Sound of Thunder',
        author: 'Ray Bradbury',
        publication_year: 1952,
        episode : 28,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-28-deaunt-chaynj-ennithnng-a-sound-of-thunder-feat-phil-nichols/',
        adaptations: [
            { year: 1989, title: 'A Sound of Thunder' },
            { year: 2005, title: 'A Sound of Thunder' }
        ]
    },
    {
        name: 'The Racer',
        author: 'Ib Melchior',
        publication_year: 1956,
        episode : 7,
        episode_url : 'http://pavementpodcast.com/podcast/death-cast-2000/',
        adaptations: [
            { year: 1975, title: 'Death Race 2000' },
            { year: 2009, title: 'Death Race' }
        ]
    },
    {
        name: 'Minority Report',
        author: 'Philip K. Dick',
        publication_year: 1956,
        episode : 16,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-16-two-three-idiots-cant-wrong/',
        adaptations: [
            { year: 2002, title: 'Minority Report' },
        ]
    },
    {
        name: 'The Fly',
        author: 'George Langelaan',
        publication_year: 1957,
        episode : 3,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-3-pretty-fly-for-a-white-guy/',
        adaptations: [
            { year: 1958, title: 'The Fly' },
            { year: 1986, title: 'The Fly' }
        ]
    },
    {
        name: 'All You Zombies',
        author: 'Robert Heinlein',
        publication_year: 1959,
        episode : 15,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-15-heinlein-timeline/',
        adaptations: [
            { year: 2014, title: 'Predestination' }
        ]
    },
    {
        name: 'Starship Troopers',
        author: 'Robert Heinlein',
        publication_year: 1959,
        episode : 26,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-26-de-bounced-starship-troopers/',
        adaptations: [
            { year: 1997, title: 'Starship Troopers' }
        ]
    },
    {
        name: 'Monkey Planet',
        author: 'Pierre Boulle',
        publication_year: 1963,
        episode : 2,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-2-can-i-get-an-ape-men/',
        adaptations: [
            { year: 1968, title: 'Planet of the Apes' },
            { year: 2001, title: 'Planet of the Apes' }
        ]
    },
    {
        name: 'Eight O\'Clock in the Morning',
        author: 'Ray Nelson',
        publication_year: 1963,
        episode : 4,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-4-time-of-death-may-vary/',
        adaptations: [
            { year: 1988, title: 'They Live' },
        ]
    },
    {
        name: 'We Can Remember It For You Wholesale',
        author: 'Philip K. Dick',
        publication_year: 1966,
        episode : 19,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-19-false-mammaries-or-sleeping-with-the-enemy-total-recall/',
        adaptations: [
            { year: 1999, title: 'Total Recall' },
            { year: 2012, title: 'Total Recall' },
        ]
    },
    {
        name: 'A Boy and His Dog',
        author: 'Harlan Ellison',
        publication_year: 1969,
        episode : 13,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-13-cheesy-quilla-desa/',
        adaptations: [
            { year: 1975, title: 'A Boy and His Dog' },
        ]
    },
    {
        name: 'The Stepford Wives',
        author: 'Ira Levin',
        publication_year: 1972,
        episode : 23,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-23-dawn-of-the-apron-the-stepford-wives/',
        adaptations: [
            { year: 1975, title: 'The Stepford Wives' },
            { year: 2004, title: 'The Stepford Wives' }
        ]
    },
    {
        name: 'Rollerball Murder',
        author: 'William Harrison',
        publication_year: 1973,
        episode : 22,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-22-no-penalties-no-time-limit-no-award-rollerball/',
        adaptations: [
            { year: 1975, title: 'Rollerball' },
            { year: 2005, title: 'Rollerball' }
        ]
    },
    {
        name: 'Enemy Mine',
        author: 'Barry B. Longyear',
        publication_year: 1979,
        episode : 11,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-11-best-friends-drac/',
        adaptations: [
            { year: 1985, title: 'Enemy Mine' },
        ]
    },
    {
        name: 'Contact',
        author: 'Carl Sagan',
        publication_year: 1985,
        episode : 17,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-17-awful-waste-space-contact/',
        adaptations: [
            { year: 1997, title: 'Contact' },
        ]
    },
    {
        name: 'Jurassic Park',
        author: 'Michael Crichton',
        episode : 8,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-8-tranny-saurus-philosoraptor/',
        publication_year: 1990,
        adaptations: [
            { year: 1993, title: 'Jurassic Park' },
        ]
    },
    {
        name: 'Jumper',
        author: 'Stephen Gould',
        episode : 29,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-29-we-mean-no-harm-to-your-planet-jumper/',
        publication_year: 1992,
        adaptations: [
            { year: 2008, title: 'Jumper' },
        ]
    },
    {
        name: 'Timeline',
        author: 'Michael Crichton',
        episode : 6,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-6-quantum-physics-means-never-explain/',
        publication_year: 1999,
        adaptations: [
            { year: 2003, title: 'Timeline' },
        ]
    },
    {
        name: 'Odd Thomas',
        author: 'Dean Koontz',
        publication_year: 2003,
        episode : 5,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-5-botox-boat-axe-something/',
        adaptations: [
            { year: 2013, title: 'Odd Thomas' },
        ]
    },
    {
        name: 'All You Need Is Kill',
        author: 'Hiroshi Sakurazaka',
        publication_year: 2004,
        episode : 9,
        episode_url : 'http://pavementpodcast.com/podcast/tmtyr-episode-9-groundhog-d-day/',
        adaptations: [
            { year: 2014, title: 'Edge of Tomorrow' },
        ]
    },
    {
        name: 'The Martian',
        author: 'Andy Weir',
        publication_year: 2011,
        episode : 29,
        episode_url : '',
        adaptations: [
            { year: 2015, title: 'The Martian' },
        ]
    },
 ];

//Graph 1
var publication_data = []; //Adaptations
var reviewed_data = []; //The book itself

//Graph 2
var book_data = []; //Time of adaptation

$.each(raw_data, function(index, book) {
    publication_data.push([ book.publication_year, book.publication_year, book.name, book.episode, book.episode_url]);
    $.each(book.adaptations, function (idx, adaptation) {
        //var my_title = (adaptation.title === '') ? book.name : adaptation.title;
        reviewed_data.push([book.publication_year, adaptation.year, adaptation.title, book.episode, book.episode_url]);
        book_data.push([book.name + ' (' + book.publication_year + ')', adaptation.year-book.publication_year, adaptation.title, adaptation.year, book.episode, book.episode_url]);
    });
});

$('#reviewed-graph').html('');
var minYear = 1810;
var maxYear = 2015;
$.jqplot('reviewed-graph', [ reviewed_data, publication_data ], {
    title : 'Movie Adaptation vs Book Publication Dates (Podcast)',
    legend : {
        show: true,
        location: 'se',
        labels : ['Reviewed Movies', 'Books and Dates']
    },
    seriesDefaults: {
        showMarker: true,
        showLine: false,
    },
    highlighter: {
        show : true,
        tooltipAxes : 'y',
        yvalues : 4,
        tooltipLocation : 'n',
        formatString : '%s - %s<br />Episode %3$s',
        tooltipFadeSpeed : 2500,
    },
    axes : {
        xaxis : {
            label : 'Publication year (Books/Movies)',
            labelRenderer: $.jqplot.CanvasAxisLabelRenderer,
            min: minYear,
            max: maxYear,
            numberTicks: ((maxYear-minYear)/10)+1
        },
        yaxis : {
            label : 'Adaptation year',
            labelRenderer: $.jqplot.CanvasAxisLabelRenderer
        }
    }
});

$.jqplot('book-graph', [ book_data ], {
    title : 'Books and Adaptations',
    seriesDefaults: {
        showMarker: true,
        showLine: false,
    },
    axesDefaults : {
        tickRenderer: $.jqplot.CanvasAxisTickRenderer,
        tickOptions : {
            angle: -60
        }
    },
    highlighter: {
        show : true,
        tooltipAxes : 'y',
        yvalues : 5,
        tooltipLocation : 'n',
        formatString : '%2$s(%3$s)<br />Episode %4$s',
        tooltipFadeSpeed : 2500,
    },
    axes : {
        xaxis : {
            renderer: $.jqplot.CategoryAxisRenderer,
        },
        yaxis : {
            label : 'Years to Adapt',
            labelRenderer: $.jqplot.CanvasAxisLabelRenderer
        }
    }
});

</script>
</body>
